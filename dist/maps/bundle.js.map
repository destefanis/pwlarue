{"version":3,"file":null,"sources":["/Users/danieldestefanis/Documents/local/pwlarue/src/js/main.js"],"sourcesContent":["(function ($) {\n  'use strict'\n\n  // Initialize Barba.js\n  Barba.Pjax.start();\n\n  Barba.Dispatcher.on('newPageReady', function() {\n    $('select').selectize({\n      sortField: 'text'\n    });\n  });\n\n  // Parallax Code\n  var parallax = document.querySelectorAll(\".parallax\"),\n    speed = 0.025;\n\n  if (($(window).width() > 1024)) {\n    window.onscroll = function(){\n      [].slice.call(parallax).forEach(function(el,i){\n\n        var windowYOffset = window.pageYOffset,\n          elTransfromPos = (windowYOffset * speed);\n        \n        el.style.transform = \"translate(0px, -\" + elTransfromPos + \"%)\";\n\n      });\n    };\n  }\n\n  // For product pages, lazy load the tiles with the lazy load specific class.\n  if ($('#product-grid').length > 0) {\n    $('.js-lazy').Lazy({\n      scrollDirection: 'vertical',\n      threshold: 800,\n      onError: function(element) {\n        console.log('error loading ' + element.data('src'));\n      },\n    });\n  }\n  \n  // Use selectize.js for our select fields.\n  $('select').selectize({\n    sortField: 'text'\n  });\n\n  // Hide notice\n  $('.content-wrapper').on('click', '.global-message-close', function() {\n    $('.global-message').addClass('is-closing');\n  });\n\n  // Enable zoom on product images\n  // $('.product-image-link').zoom();\n\n\n  // Product variant and gallery fuctionality\n  var $ctx = $('.product-page');\n  var $buyFormInput;\n  var $mainImages;\n  var $thumbnails;\n  var $singleThumbnail;\n  var $colorButton;\n  var $dataId;\n  var src;\n  var $dataValue;\n  var $productName;\n  var $dataName;\n  var $productPrice;\n  var $dataPrice;\n  var $currencySymbol;\n\n  if (($ctx).length) {\n    $colorButton = $ctx.find('.control--radio');\n    $thumbnails = $ctx.find('.product-thumbnails');\n    $singleThumbnail = $ctx.find('.product-thumbnail');\n    $mainImages = $ctx.find('.product-image-link');\n    $buyFormInput = $ctx.find('.form--cart > input');\n    $productName = $ctx.find('#product-name');\n    $productPrice = $ctx.find('#product-price > .amount');\n    $currencySymbol = $ctx.find('#product-price .woocommerce-Price-currencySymbol').html();\n\n    $mainImages.click(function(e) {\n      e.preventDefault();\n    });\n\n    // Swap main images when thumbnails are clicked.\n    $singleThumbnail.click(function() {\n      var $thumb = $(this);\n      var src = $thumb.attr('src');\n      var $dataId = $thumb.data('id');\n\n      $('.product-image-link.is-active > .product-image').fadeOut(150, function() {\n        var $this = $(this);\n        $thumb.src = $this.src;\n        $this.fadeIn(150)[0].src = src;\n      })\n    });\n\n    // Swap images and color options when color variant is selected.\n    // Also update product information with data attribute values.\n    $colorButton.on('click', function(e) {\n      $dataId = $(this).data('id');\n      $dataValue = $(this).data('value');\n      $buyFormInput.attr('value', $dataValue);\n      $dataName = $(this).data('title');\n      $dataPrice = $(this).data('price');\n\n      // Swap Product Names\n      $productName.text($dataName);\n\n      // Swap Product Prices\n      $productPrice.text($dataPrice);\n      $productPrice.prepend($currencySymbol);\n\n      $thumbnails.each(function() {\n        var $this = $(this);\n\n        if ($this.data('id') === $dataId) {\n          $thumbnails.addClass('is-hidden');\n          $this.removeClass('is-hidden');\n        }\n      });\n\n      $mainImages.each(function() {\n        var $this = $(this);\n\n        if ($this.data('id') === $dataId) {\n          $mainImages.addClass('is-hidden');\n          $mainImages.removeClass('is-active');\n          $this.removeClass('is-hidden');\n          $this.addClass('is-active');\n        }\n      });\n    });\n  }\n\n})(jQuery);\n"],"names":["$","Pjax","start","Dispatcher","on","selectize","parallax","document","querySelectorAll","speed","window","width","onscroll","slice","call","forEach","el","i","windowYOffset","pageYOffset","elTransfromPos","style","transform","length","Lazy","element","log","data","addClass","$buyFormInput","$mainImages","$thumbnails","$singleThumbnail","$colorButton","$dataId","$dataValue","$productName","$dataName","$productPrice","$dataPrice","$currencySymbol","$ctx","find","html","click","e","preventDefault","$thumb","this","src","attr","fadeOut","$this","fadeIn","text","prepend","each","removeClass","jQuery"],"mappings":"0BAAA,SAAWA,SAIHC,KAAKC,cAELC,WAAWC,GAAG,eAAgB,aAChC,UAAUC,qBACC,cAKXC,GAAWC,SAASC,iBAAiB,aACvCC,EAAQ,IAELT,GAAEU,QAAQC,QAAU,cAChBC,SAAW,cACbC,MAAMC,KAAKR,GAAUS,QAAQ,SAASC,EAAGC,MAEtCC,GAAgBR,OAAOS,YACzBC,EAAkBF,EAAgBT,IAEjCY,MAAMC,UAAY,mBAAqBF,EAAiB,SAO7DpB,EAAE,iBAAiBuB,OAAS,KAC5B,YAAYC,sBACK,qBACN,YACF,SAASC,WACRC,IAAI,iBAAmBD,EAAQE,KAAK,aAMhD,UAAUtB,qBACC,WAIX,oBAAoBD,GAAG,QAAS,wBAAyB,aACvD,mBAAmBwB,SAAS,mBAS5BC,GACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAbAC,EAAOzC,EAAE,gBAeRyC,GAAMlB,WACMkB,EAAKC,KAAK,qBACXD,EAAKC,KAAK,yBACLD,EAAKC,KAAK,wBACfD,EAAKC,KAAK,yBACRD,EAAKC,KAAK,yBACXD,EAAKC,KAAK,mBACTD,EAAKC,KAAK,8BACRD,EAAKC,KAAK,oDAAoDC,SAEpEC,MAAM,SAASC,KACvBC,qBAIaF,MAAM,cACjBG,GAAS/C,EAAEgD,MACXC,EAAMF,EAAOG,KAAK,MACRH,GAAOpB,KAAK,QAExB,kDAAkDwB,QAAQ,IAAK,cAC3DC,GAAQpD,EAAEgD,QACPC,IAAMG,EAAMH,MACbI,OAAO,KAAK,GAAGJ,IAAMA,QAMlB7C,GAAG,QAAS,SAASyC,KACtB7C,EAAEgD,MAAMrB,KAAK,QACV3B,EAAEgD,MAAMrB,KAAK,WACZuB,KAAK,QAASf,KAChBnC,EAAEgD,MAAMrB,KAAK,WACZ3B,EAAEgD,MAAMrB,KAAK,WAGb2B,KAAKjB,KAGJiB,KAAKf,KACLgB,QAAQf,KAEVgB,KAAK,cACXJ,GAAQpD,EAAEgD,KAEVI,GAAMzB,KAAK,QAAUO,MACXN,SAAS,eACf6B,YAAY,kBAIVD,KAAK,cACXJ,GAAQpD,EAAEgD,KAEVI,GAAMzB,KAAK,QAAUO,MACXN,SAAS,eACT6B,YAAY,eAClBA,YAAY,eACZ7B,SAAS,oBAMtB8B"}